<slideshow title="Développer en OCaml"
  with-contents="true"
  sectionning=""
>
<myheader id="">
<header class="slide" id="&lt;id/&gt;"><contents/></header>
</myheader>

<slide id="" title="" mapto="" href="" is_section="false">
<block href="&lt;href/&gt;"
   id="&lt;id/&gt;" title="&lt;title/&gt;"
   with-contents="true"
   >
<long-title-format><title/></long-title-format>
<short-title-format><title/></short-title-format>
<contents
><div class="slide" title="&lt;title/&gt;" id="&lt;id/&gt;"
><if title=""><dummy_/><if is_section="true"><dummy_/><h1><title/></h1></if></if><contents/>
<if mapto=""><dummy_/><div class="mapto"><elt href="intro_ocaml#&lt;mapto/&gt;"/></div></if></div>
</contents></block>
</slide>

<!--
<section id="" title="" mapto="">
<env_ thecontents="&lt;contents/&gt;" thetitle="&lt;title/&gt;">
<slide id="&lt;id/&gt;" title="&lt;title/&gt;" is_section="true"><div class="big-title"><thetitle/></div><thecontents/></slide>
</env_>
</section>
-->

<section id="" title="" mapto="">
<slide defer_="1" id="&lt;id/&gt;" title="&lt;title/&gt;" is_section="true">
  <div class="big-title"><title/></div><contents/>
</slide>
</section>

<inc-code id=""><inc href="intro_ocaml#&lt;id/&gt;"/></inc-code>
<dinc-code id=""><div class="delayed persistent"><inc-code id="&lt;id/&gt;"/></div></dinc-code>

<ddiv contents="&lt;contents/&gt;"><div class="delayed persistent"><contents/></div></ddiv>
<dli contents="&lt;contents/&gt;"><li class="delayed persistent"><contents/></li></dli>

<mylist sep="&lt;span&gt;,  &lt;/span&gt;"><list defer_="1" sep="&lt;sep/&gt;"><contents/></list></mylist>

<contents>
<myheader>
<h1> </h1>
 <div class="logo"><img src="../ocaml.png" width="600"/></div>
  <div class="attribution">Maxence Guesdon - INRIA Saclay Île-de-France -
  Durée: environ 2h</div>
</myheader>

<slide title="Plan" id="plan">
<ul>
<li><elt href="#intro"/>,</li>
<li><elt href="#progfonc"/>,</li>
<li><elt href="#stdlib"/>.</li>
</ul>
</slide>

<section id="intro" title="Introduction">
<p>Présentation du langage</p>
<ul>
<li><elt href="#caracteristiques"/>,</li>
<li><elt href="#modes"/>,</li>
<li><elt href="#extensions_"/>.</li>
</ul>
</section>

<slide id="caracteristiques" title="Caractéristiques" mapto="intro:description">
<p>OCaml est:</p>
<ul>
<dli>un langage généraliste multi-paradigme: fonctionnel, impératif, objet,</dli>
<dli>typé statiquement, avec inférence des types,</dli>
<dli>polymorphe paramétrique,</dli>
<dli>doté d'un système d'exceptions,</dli>
<dli>livré avec de nombreuses bibliothèques,</dli>
<dli>utilisé par une large et dynamique communauté,</dli>
<dli>interfaçable avec C et Fortran,</dli>
<dli>muni d'un ramasse-miettes (garbage-collector),</dli>
<dli>rapide et portable,</dli>
<dli>issu de la recherche académique (INRIA) et utilisé également dans l'industrie.</dli>
</ul>
</slide>

<slide id="modes" title="3 modes d'exécution" mapto="intro:eval">
<ul>
<dli>interprète: <icode>ocaml</icode>. Comme un shell.
<sh>$ ocaml</sh>
ou <sh>$ ocaml fichier.ml ...</sh>
<ocaml-eval toplevel="true">1 + 1;;</ocaml-eval>
</dli>
<dli>compilation en bytecode: <icode>ocamlc</icode>. Pour la portabilité.
<sh>$ ocamlc -c -I .... fichier.ml
$ ocamlc -o mon_prog fichier.cmo fichier2.cmo ...</sh>
</dli>
<dli>compilation en code natif: <icode>ocamlopt</icode>. Pour la rapidité.
<sh>$ ocamlopt -c -I .... fichier.ml
$ ocamlopt -o mon_prog fichier.cmx fichier2.cmx ...</sh>
</dli>
</ul>
</slide>

<slide id="extensions_" title="Extensions" mapto="extensions">
<inc-code id="extensions"/>
</slide>

<section id="progfonc" title="Programmation fonctionnelle">
<ul>
<li><elt href="#basetypes"/>,</li>
<li><elt href="#conditionnelle"/>,</li>
<li><elt href="#let"/>,</li>
<li><elt href="#funs"/>,</li>
<li><elt href="#patternmatching"/>,</li>
<li><elt href="#types"/>.</li>
</ul>
</section>

<slide id="basetypes" title="Types de base" mapto="basetypes">
<h2>Entiers</h2>
<inc-code id="code-ints"/>
</slide>

<slide id="floats" title="Types de base" mapto="floats">
<h2>Flottants</h2>
<inc-code id="code-floats"/>
</slide>

<slide id="booleans" title="Types de base" mapto="booleans">
<h2>Booléens</h2>
<inc-code id="code-booleans"/>
</slide>

<slide id="chars" title="Types de base" mapto="chars">
<h2>Caractères</h2>
<inc-code id="code-chars"/>
</slide>

<slide id="strings" title="Types de base" mapto="strings">
<h2>Chaînes de caractères</h2>
<inc-code id="code-strings"/>
</slide>

<slide id="unit" title="Types de base" mapto="unit">
<h2>Unit</h2>
<inc-code id="code-unit"/>
</slide>

<slide id="tuples" title="Types de base" mapto="tuples">
<h2>Tuples</h2>
<inc-code id="code-tuples"/>
</slide>

<slide id="lists" title="Types de base" mapto="lists">
<h2>Listes</h2>
<inc-code id="code-lists"/>
</slide>

<slide id="noconv" title="Types de base">
<h2>Attention</h2>
<ocaml-eval toplevel="true" error-exc="false">
1 +. 2.0 ;;
1 + 2.0;;
</ocaml-eval>
</slide>

<slide title="Types de base" mapto="fun:comparaisons">
<h2>Comparaisons</h2>
<inc-code id="code-comparisons"/>
</slide>

<slide id="conditionnelle" title="Conditionnelle" mapto="conditionnelle">
<ocaml>if expression1 then expression2 else expression3
if expression1 then expression2</ocaml>
<inc-code id="code-conditionnelle"/>
</slide>


<slide id="let" title="Déclarations" mapto="fun:decl">
<p>Déclaration globale:</p>
<ocaml>let ident = expression;;</ocaml>
<inc-code id="code-declglob"/>

<ddiv>
<p>Déclaration locale:</p>
<ocaml>let ident = expression1 in expression2</ocaml>
<inc-code id="code-decllocal"/>
</ddiv>
</slide>

<slide id="letrec" title="Déclarations simultanées" mapto="fun:recdecl">
<inc-code id="code-declsimul"/>
<dinc-code id="code-declsimul2"/>
</slide>

<slide id="funs" title="Fonctions" mapto="fun:expr">
<p>Définition:
<inc-code id="code-funs"/>
</p>
<ddiv><p>Application:</p>
<inc-code id="code-funs2"/>
</ddiv>
<ddiv><p>Application partielle:</p>
<inc-code id="code-funs3"/>
</ddiv>
</slide>

<slide id="funs2" title="Nommage de fonctions" mapto="fun:expr">
<inc-code id="code-funs4"/>
<p>Utilisation:</p>
<dinc-code id="code-funs5"/>
</slide>


<slide id="parenth" title="Place des parenthèses" mapto="fun:parenth">
<inc-code id="code-parenth"/>
</slide>

<slide id="closures" title="Fermetures" mapto="fun:closures">
<inc-code id="code-closures"/>
</slide>

<slide id="higherorder" title="Fonctions d'ordre supérieur" mapto="fun:higher">
<inc-code id="code-higher"/>
<dinc-code id="code-higher2"/>
</slide>

<slide id="recur" title="Récursion" mapto="fun:recur">
<inc-code id="code-recur"/>
<dinc-code id="code-recur2"/>
<dinc-code id="code-recur3"/>
</slide>

<slide id="ex" title="Exercice" mapto="redeflistmap">
<inc-code id="redeflistmap"/>
</slide>

<slide id="ex2" title="Exercice" mapto="minint">
<inc-code id="minint"/>
</slide>

<slide id="ex3" title="Exercice" mapto="average">
<inc-code id="average"/>
</slide>

<slide id="patternmatching" title="Filtrage de motif (pattern matching)" mapto="filtrage">
<inc-code id="patternsyntax"/>
<ddiv><p>Filtrage d'un entier:</p>
<inc-code id="code-pattern-int"/>
</ddiv>
</slide>

<slide id="patternmatching2" title="Filtrage de motif (pattern matching)" mapto="filtrage">
<p>Filtrage d'une liste:</p>
<inc-code id="code-pattern-list"/>
<ddiv><p>Attention:</p>
<inc-code id="code-badmatch"/>
</ddiv>
</slide>

<slide id="patternmatching3" title="Filtrage de motif (pattern matching)" mapto="fun:declfilt">
<inc-code id="code-declfilt"/>
</slide>


<slide id="ex4" title="Exercice" mapto="palindromlist">
<inc-code id="palindromlist"/>
</slide>

<slide id="types" title="Déclaration de types" mapto="fun:decltypes">
<inc-code id="code-decltypes"/>
<dinc-code id="code-decltypes2"/>
<dinc-code id="code-decltypes3"/>
</slide>

<slide id="records" title="Types enregistrements (records)" mapto="records">
<inc-code id="code-records"/>
</slide>

<slide id="variants" title="Types sommes (variants)" mapto="fun:variants">
<inc-code id="code-variants"/>
<ddiv><p>Création de valeur:</p>
<inc-code id="code-variants-create"/>
</ddiv>
<ddiv><p>Filtrage de valeur:</p>
<inc-code id="code-variants-filt"/>
</ddiv>
</slide>

<slide id="ex5" title="Exercice: représentation d'expressions" mapto="fun:variants:exo">
<inc-code id="exoexpr"/>
</slide>

<section id="stdlib" title="Utiliser la bibliothèque standard">
<ul>
<li><elt href="#stdlibis"/>,</li>
<li><elt href="#usingmods">Modules, exceptions</elt>,</li>
<li><elt href="#tac">Exercices.</elt></li>
</ul>
</section>

<slide id="stdlibis" title="La bibliothèque standard" mapto="libs">
<p>
Elle comporte
</p>
<ul>
<dli>le module <icode>Pervasives</icode> contenant les types, fonctions et
exceptions de base,</dli>
<dli>un ensemble d'autres modules pour:
  <ul>
    <dli>manipuler des structures de données usuelles:
      <mylist><icode>List</icode><icode>String</icode><icode>Map</icode><icode>Hashtbl</icode><icode>Array</icode><icode>Set</icode><icode>Stack</icode><icode>Queue</icode>...</mylist>
      </dli>
    <dli>effectuer des calculs:
      <mylist><icode>Complex</icode><icode>Int32</icode><icode>Int64</icode><icode>Native_int</icode><icode>Big_int</icode></mylist>
    </dli>
    <dli>effectuer des entrées-sorties:
      <mylist><icode>Format</icode><icode>Printf</icode><icode>Scanf</icode><icode>Marshal</icode></mylist>
    </dli>
    <dli>accéder au système:
      <mylist><icode>Arg</icode><icode>Sys</icode><icode>Printexc</icode><icode>Gc</icode></mylist>
    </dli>
    <dli>effectuer diverses opérations:
      <mylist><icode>Digest</icode><icode>Random</icode><icode>Lexing</icode><icode>Parsing</icode><icode>Lazy</icode></mylist>
    </dli>
  </ul>
</dli>
</ul>
<ddiv><p>Des bibliothèques additionnelles sont disponibles selon les systèmes:
<mylist><icode>Unix</icode><icode>Dynlink</icode><icode>Str</icode><icode>Threads</icode><icode>...</icode></mylist>
</p></ddiv>
</slide>

<slide id="usingmods" title="Utiliser un module">
<p>Deux façons de faire référence à un élément d'un module:</p>
<ul>
<dli>Par son nom qualifié:
<ocaml-eval>List.length [ 1 ; 2 ; 3];;</ocaml-eval></dli>
<dli>En ajoutant à l'environnement courant les éléments d'un module:
<ocaml-eval>open List;; length [ 1 ; 2 ; 3];;</ocaml-eval></dli>
</ul>
<ddiv><p>Attention au masquage:</p>
<inc-code id="code-openwarning"/>
</ddiv>
</slide>

<slide id="exceptions" title="Exceptions">
<ocaml>
try ...
with
  Exc1 -> ...
| Exc2 -> ...
</ocaml>
<ddiv>
Exemple:
<ocaml-eval toplevel="true">
let first_line file =
  try
    let ic = open_in file in
    try let line = input_line ic in close_in ic; line
    with End_of_file -> close_in ic; ""
  with
    Sys_error msg ->
      prerr_endline msg;
      ""
;;
first_line "/etc/passwd";;
first_line "/foo/bar";;
</ocaml-eval>
</ddiv>
<ddiv>Des exceptions sont prédéfinies dans le module <moduledoc name="Pervasives"/>.</ddiv>
<ddiv>
<ocaml-eval toplevel="true">
exception Mon_exception of string * int ;;
</ocaml-eval></ddiv>
</slide>

<slide id="tac" title="Exercice" mapto="exotac">
<ocaml>type 'a option = None | Some of 'a</ocaml>
<inc-code id="exotac"/>
</slide>

<slide id="words" title="Exercice" mapto="exowords">
<inc-code id="exowords"/>
</slide>
<!--
<slide id="next" title="A continuer">
La suite bientôt...
</slide>
-->
<slide id="missing" title="Ce que nous n'avons pas vu">
<ul>
<li><elt href="intro_ocaml#exceptions">Exceptions</elt>,</li>
<li><elt href="intro_ocaml#fun:polyconst">Polymorphisme et contraintes de type</elt>,</li>
<li><elt href="intro_ocaml#modules">Modules</elt>,</li>
<li><elt href="intro_ocaml#progimperative">Programmation impérative</elt>,</li>
<li><elt href="intro_ocaml#devenv">Les outils de développement</elt>,</li>
<li>Programmation objet,</li>
<li>...</li>
</ul>
</slide>


<slide id="tryocaml" title="TryOcaml">
<script type="text/javascript" src="widget.js"></script>
<script type="text/javascript">
new TWTR.Widget({
  version: 2,
  type: 'profile',
  rpp: 4,
  interval: 30000,
  width: 'auto',
  height: 300,
  theme: {
    shell: {
      background: '#000000',
      color: '#333'
    },
    tweets: {
      background: '#ddf4fb',
      color: '#15156b',
      links: '#0a0f07'
    }
  },
  features: {
    scrollbar: true,
    loop: false,
    live: false,
    behavior: 'default'
  }
}).render().setUser('tryocaml').start();
</script>
<div class="hidden" id="languages">_</div>
<a href="http://tryocaml.ocamlpro.com">TryOCaml</a> (thanks to <a href="http://ocamlpro.com/">OCamlPro</a>)
<div class="ocaml">
<div id="toplevel-container">
   <pre id="output"> Welcome to TryOCaml</pre>
   <div id="sharp">#</div>
   <div id="toplevel"> </div>
</div>
<div id="buttons"></div>
</div>
</slide>
<script type="text/javascript" src="try-ocaml.js"></script>

<!--<table class="zebra-striped">
  <tr><td id="text-enter">Enter / Return</td> <td id="text-submit">Submit code</td></tr>
  <tr><td id="text-arrows">Up / Down</td><td id="text-history">Cycle through history</td></tr>
  <tr><td id="text-newline">Shift + Enter</td><td id="text-multiline">Multiline edition</td></tr>
</table>
-->
<footer class="slide">
<h2>Merci!</h2>

</footer>
</contents>
</slideshow>

